{"mappings":"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","sources":["js/newReview.js"],"sourcesContent":["(function () {\r\n    // Constants\r\n  \r\n    const form = document.querySelector('form');\r\n    const firstNameField = document.querySelector('input[name=\"fname\"]');\r\n    const lastNameField = document.querySelector('input[name=\"name\"]');\r\n    const scoreField = document.querySelector('input[name=\"score\"]');\r\n    const commentField = document.querySelector('input[name=\"comment\"]');\r\n    const dateField = document.querySelector('input[name=\"date\"]');\r\n  \r\n    const errFirstName = document.querySelector('#fname-valid');\r\n    const errName = document.querySelector('#name-valid');\r\n    const errScore = document.querySelector('#score-valid');\r\n    const errComment = document.querySelector('#comment-valid');\r\n    const errDate = document.querySelector('#date-valid');\r\n    const regex = /^[A-Z][a-z]+([\\s\\-]?[A-Za-z]{2,})*$/gm;\r\n    const postUrl = \"http://localhost:8000/reviewpost\"\r\n\r\n    // Functions\r\n  \r\n    const resetErrors = () => {\r\n      errFirstName.style.display = 'none';\r\n      errName.style.display = 'none';\r\n      errScore.style.display = 'none';\r\n      errComment.style.display = 'none';\r\n      errDate.style.display = 'none';\r\n    };\r\n  \r\n    const resetForm = () => {\r\n      firstNameField.value = '';\r\n      lastNameField.value = '';\r\n      scoreField.value = '';\r\n      commentField.value = '';\r\n      errDate.value = '';\r\n    };\r\n  \r\n    const setError = (element, message) => {\r\n      element.style.display = 'block';\r\n      element.innerText = message;\r\n    };\r\n  \r\n    const checkRegex = (e, element) => {\r\n      const result = e.target.value.match(regex);\r\n      if (!result) {\r\n        setError(element, 'Invalid charactre!');\r\n      } else {\r\n        element.style.display = 'none';\r\n      }\r\n    };\r\n  \r\n    const checkOnInput = e => {\r\n      if (e.target.value.length >=1) {\r\n        checkRegex(e, errFirstName);\r\n        checkRegex(e, errName);\r\n      }\r\n    };\r\n  \r\n    const checkOnLostFocus = e => {\r\n      if (e.target.value.length === 0) {\r\n        setError(errName, 'Name is required');\r\n        setError(errFirstName, 'fname is required')\r\n      } else {\r\n        checkRegex(e, errName);\r\n      }\r\n    };\r\n\r\n    const postData = async () => {\r\n        await fetch(postUrl, {\r\n            method: 'POST',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                'fname': firstNameField.value,\r\n                'name': lastNameField.value,\r\n                'comment': commentField.value,\r\n                'score': scoreField.value,\r\n                'date': dateField.value\r\n            })\r\n        })\r\n    }\r\n  \r\n    // Event Listeners\r\n  \r\n    form.addEventListener('submit', e => {\r\n      e.preventDefault();\r\n      resetErrors();\r\n      const isValid = validateForm();\r\n      if (isValid) {\r\n          postData();\r\n          \r\n          document.querySelector(\"form\").innerHTML = \"\";\r\n        resetForm();\r\n      }\r\n    });\r\n  \r\n    firstNameField.addEventListener('input', checkOnInput);\r\n    lastNameField.addEventListener('input', checkOnInput);\r\n    \r\n    firstNameField.addEventListener('focusout', checkOnLostFocus);\r\n    lastNameField.addEventListener('focusout', checkOnLostFocus);\r\n  \r\n    const validateForm = () => {\r\n      let isValid = true;\r\n  \r\n      if (firstNameField.value === '') {\r\n        setError(errFirstName, 'Fill in firstname');\r\n        isValid = false;\r\n      }\r\n  \r\n      if (lastNameField.value === '') {\r\n        setError(errName, 'Fill in lastname');\r\n        isValid = false;\r\n      }\r\n  \r\n      if (scoreField.value === '') {\r\n        setError(errScore, 'score can\\'t be empty');\r\n        isValid = false;\r\n      }\r\n      if (scoreField.value < 1 || scoreField.value > 5) {\r\n          setError(errScore, 'score must be between 1 and 5');\r\n          isValid = false;\r\n      }\r\n      if (dateField.value === '') {\r\n          setError(errDate, 'Date must be filled in')\r\n      }\r\n  \r\n      return isValid;\r\n    };\r\n  })();\r\n  "],"names":[],"version":3,"file":"newReview.ff8571d1.js.map","sourceRoot":"/__parcel_source_root/"}